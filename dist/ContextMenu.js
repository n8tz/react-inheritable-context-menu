/*! For license information please see ContextMenu.js.LICENSE.txt */
(()=>{"use strict";var e={944:(e,n,t)=>{t.r(n),t.d(n,{applyCssAnim:()=>c,clearContextListeners:()=>f,findAllMenuFrom:()=>d,initContextListeners:()=>m});const r=require("@babel/runtime/helpers/toConsumableArray");var i=t.n(r);const o=require("react-dom/client");var u,a,l,s=t(15);function d(e){var n=[];do{n.push.apply(n,i()(Array.from(e.children).filter((function(e){return e.classList.contains("inContextMenuComp")})))),e=e.parentNode}while(e&&e!==document);return n}function c(e,n,t,r){t=t||500;var i,o=function n(t){t&&t.target!==e||(clearTimeout(i),Object.assign(e.style,{animation:null}),e.removeEventListener("animationend",n),r&&r(e))};e.addEventListener("animationend",o),Object.assign(e.style,{animation:n+" "+t/1e3+"s forwards"}),i=setTimeout(o,1.5*t)}function f(e){try{document.body.removeChild(u),document.removeEventListener(e.DefaultMenuEvent,l),l=u=null}catch(e){}}function m(e,n){u=document.createElement("div"),Object.assign(u.style,{pointerEvents:"none",position:"fixed",width:"100%",height:"100%",top:"0",left:"0",zIndex:e.DefaultZIndex,display:"none"}),u.className="inContextMenuLayer",document.body.appendChild(u);var t,r,i,f,m=function n(o,l){var s=function(e){for(u.style.display="none",a=null;null!==(n=i)&&void 0!==n&&n.length;){var n;i.pop()()}f.unmount(),u.innerHTML=""};l?s():e.DefaultHideAnim?c(a,e.DefaultHideAnim,e.DefaultAnimDuration,s):setTimeout(s,10),window.removeEventListener("resize",t),window.removeEventListener("scroll",r),document.body.removeEventListener("click",n)};document.addEventListener(e.DefaultMenuEvent,l=function(l){if(e.shouldUseContextMenu(l)){a&&m(0,!0);var p,v,y,h=d(l.target).reduce((function(e,t){var r,i=t.menuId&&n[t.menuId];return!i||p||(e.push(i),null!==(r=i.props)&&void 0!==r&&r.hasOwnProperty("root")&&(p=i)),e}),[]),b=window.innerWidth,x=window.innerHeight;if(h.length&&!h[0].props.hasOwnProperty("native")){l.preventDefault(),l.stopPropagation(),document.body.addEventListener("click",m),u.style.display="block",window.addEventListener("resize",t=function(){m(0,!1)}),window.addEventListener("scroll",r=function(){m(0,!1)});var E=e.DefaultMenuComp;(a=document.createElement("div")).className="inContextMenu",u.appendChild(a),f=(0,o.createRoot)(a);var g=h.length,D=function(){--g||requestAnimationFrame((function(){v=l.x,y=l.y,v+a.offsetWidth>b&&(v-=a.offsetWidth),y+a.offsetHeight>x&&(y-=a.offsetHeight),Object.assign(a.style,{top:y+"px",left:v+"px",width:a.offsetWidth+"px",height:a.offsetHeight+"px",visibility:"visible"}),e.DefaultShowAnim&&c(a,e.DefaultShowAnim,e.DefaultAnimDuration)}))},w=function(){var e=s.useRef();return s.useEffect((function(){i=h.map((function(n){var t=document.createElement("div");return t.className="inContextSubMenu",n.doReDim=D,e.current&&e.current.parentNode.appendChild(t),n.triggerRender(t,h,l)}))})),s.createElement(E,null,s.createElement("div",{ref:e,style:{display:"none"}}))};return f.render(s.createElement(w,null)),Object.assign(a.style,{pointerEvents:"all",position:"absolute",display:"flex",visibility:"hidden"}),!1}}})}},15:e=>{e.exports=require("react")}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={exports:{}};return e[r](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};t.r(r),t.d(r,{ContextMenu:()=>p,default:()=>v});var i=t(15),o=t.n(i);const u=require("@babel/runtime/helpers/slicedToArray");var a=t.n(u);const l=require("react-dom");var s=new Function("try {return this===window;}catch(e){ return false;}")(),d=s&&t(944),c=0,f=0,m=[],p=function e(n){var t=o().useRef(),r=function(e,n,t){var r=o().useState(),i=a()(r,2),u=i[0],p=i[1],v=o().useRef(0);if(!v.current&&s&&(c||d.initContextListeners(t,m),c++,f++,v.current=f,e.current&&(e.current.menuId=v.current)),o().useEffect((function(){return m[v.current]={menuId:v.current,props:n,triggerRender:function(e,n,t){return p({node:e,menuList:n,event:t}),function(){return p(void 0)}}},function(){m[v.current]=void 0,--c||d.clearContextListeners(t)}}),[]),o().useEffect((function(){e.current&&v.current&&(e.current.menuId=v.current)}),[e.current]),o().useLayoutEffect((function(){u&&m[v.current].doReDim&&(m[v.current].doReDim(),delete m[v.current].doReDim)}),[u]),u){var y=t.DefaultSubMenuComp;return{portalNode:(0,l.createPortal)(o().createElement(y,null,n.renderMenu?n.renderMenu(u.event,u.menuList,n.children):n.children),u.node)}}return{}}(t,n,e),i=r.portalNode;return o().createElement("div",{className:"inContextMenuComp",style:{display:"none"},ref:t},i)};p.DefaultZIndex=1e3,p.DefaultAnimDuration=250,p.DefaultMenuComp="div",p.DefaultSubMenuComp="div",p.DefaultShowAnim=!1,p.DefaultHideAnim=!1,p.DefaultMenuEvent="contextmenu",p.shouldUseContextMenu=function(e){return 2===e.button&&4!==e.buttons};const v=p;module.exports=r})();
//# sourceMappingURL=ContextMenu.js.map