/*!
 * MIT License
 * 
 * Copyright (c) 2018 Wise Wild Web
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=3)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("react-dom")},function(e,n){e.exports=require("@babel/runtime/helpers/inheritsLoose")},function(e,n,t){e.exports=t(4)},function(e,n,t){"use strict";t.r(n),t.d(n,"ContextMenu",function(){return f});var r=t(2),o=t.n(r),i=t(0),u=t.n(i),a=t(1),s=t.n(a).a.unstable_renderSubtreeIntoContainer,l=new Function("try {return this===window;}catch(e){ return false;}")(),d=l&&t(5),c=0,f=function(e){function n(t){var r;return r=e.apply(this,arguments)||this,!c&&l&&d.initContextListeners(n),c++,r}o()(n,e);var t=n.prototype;return t.componentWillUnmount=function(){--c||d.clearContextListeners(n)},t.renderWithContext=function(e,n,t){var r=d.airRender(this.renderWithContext_ex.bind(this),e,n)(u.a.Fragment);return u.a.createElement(r,{key:t})},t.renderWithContext_ex=function(e,t,r){var o=n.DefaultSubMenuComp,i=u.a.createElement(o,null,this.renderMenu(r,t)),a=document.createElement("div");return a.className="inContextSubMenu",e.appendChild(a),s(this,i,a),a},t.renderMenu=function(e,n){var t=this.renderableChilds;return this.props.renderMenu?this.props.renderMenu(e,n,t):u.a.createElement(u.a.Fragment,null,t||"")},t.render=function(){return this.renderableChilds=u.a.Children.toArray(this.props.children)||[],u.a.createElement("div",{className:"inContextMenuComp",style:{display:"none"}})},n}(u.a.Component);f.DefaultZIndex=1e3,f.DefaultAnimDuration=250,f.DefaultMenuComp="div",f.DefaultSubMenuComp="div",f.DefaultShowAnim=!1,f.DefaultHideAnim=!1,n.default=f},function(e,n,t){"use strict";t.r(n),t.d(n,"findAllMenuFrom",function(){return f}),t.d(n,"findReactComponent",function(){return p}),t.d(n,"renderMenu",function(){return m}),t.d(n,"airRender",function(){return h}),t.d(n,"applyCssAnim",function(){return y}),t.d(n,"clearContextListeners",function(){return v}),t.d(n,"initContextListeners",function(){return b});var r,o,i,u=t(2),a=t.n(u),s=t(1).unstable_renderSubtreeIntoContainer,l=t(0),d=t(1),c=[];function f(e){var n=[];do{n.push.apply(n,Array.from(e.children).filter(function(e){return e.classList.contains("inContextMenuComp")})),e=e.parentNode}while(e&&e!==document);return n}function p(e){var n;for(var t in e)if(t.startsWith("__reactInternalInstance$"))return(n=e[t])&&n.return&&n.return.stateNode;return null}function m(e,n,t,r){var o=r,i=l.createElement(o,null,t()),u=document.createElement("div");return e.appendChild(u),s(n[0],i,u),u}function h(e,n,t){return function(r){return function(o){function i(){return o.apply(this,arguments)||this}a()(i,o);var u=i.prototype;return u.componentDidMount=function(){c.push(e(this.refs.node.parentNode,n,t))},u.render=function(){return l.createElement(r,null,l.createElement("span",{ref:"node",style:{display:"none"}}))},i}(l.Component)}}function y(e,n,t,r){t=t||500;var o,i=function n(t){t&&t.target!==e||(clearTimeout(o),Object.assign(e.style,{animation:null}),e.removeEventListener("animationend",n),r&&r(e))};e.addEventListener("animationend",i),Object.assign(e.style,{animation:n+" "+t/1e3+"s forwards"}),o=setTimeout(i,1.1*t)}function v(){try{document.body.removeChild(r),document.removeEventListener("contextmenu",i),i=r=null}catch(e){}}function b(e){r=document.createElement("div"),Object.assign(r.style,{pointerEvents:"none",position:"absolute",overflow:"hidden",width:"100%",height:"100%",top:"0",left:"0",zIndex:e.DefaultZIndex,display:"none"}),r.className="inContextMenuLayer",document.body.appendChild(r);var n,t=function t(i,u){var a=function(e){r.style.display="none",o=null,c.forEach(function(e){return d.unmountComponentAtNode(e)}),r.innerHTML=""};u?a():e.DefaultHideAnim?y(o,e.DefaultHideAnim,e.DefaultAnimDuration,a):setTimeout(a,10),window.removeEventListener("resize",n),document.body.removeEventListener("click",t)};document.addEventListener("contextmenu",i=function(i){o&&t(0,!0);var u,a,s,d=f(i.target).map(p).reduce(function(e,n){return!n||u?e:(e.push(n),n.props.hasOwnProperty("root")&&(u=n),e)},[]),h=document.body.offsetWidth,v=document.body.offsetHeight;if(d.length&&!d[0].props.hasOwnProperty("native"))return document.body.addEventListener("click",t),r.style.display="block",window.addEventListener("resize",n=function(){a=a/h*document.body.offsetWidth,h=document.body.offsetWidth,v=document.body.offsetHeight,Object.assign(o.style,{top:s+"px",left:a+"px"})}),o=m(r,d,function(){return l.createElement(l.Fragment,null,d.map(function(e,n){return e.renderWithContext(d,i,n)}))},e.DefaultMenuComp),c.push(o),Object.assign(o.style,{pointerEvents:"all",position:"absolute",display:"flex",visibility:"hidden"}),o.className="inContextMenu",requestAnimationFrame(function(){a=i.x,s=i.y+document.body.scrollTop,a+o.offsetWidth>h&&(a-=o.offsetWidth),s+o.offsetHeight>v&&(s-=o.offsetHeight),Object.assign(o.style,{top:s+"px",left:a+"px",width:o.offsetWidth+"px",height:o.offsetHeight+"px",visibility:"visible"}),e.DefaultShowAnim&&y(o,e.DefaultShowAnim,e.DefaultAnimDuration)}),i.preventDefault(),i.stopPropagation(),!1})}}]);
//# sourceMappingURL=ContextMenu.js.map