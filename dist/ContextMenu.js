/*! For license information please see ContextMenu.js.LICENSE.txt */
(()=>{"use strict";var e={944:(e,t,n)=>{n.r(t),n.d(t,{applyCssAnim:()=>c,clearContextListeners:()=>f,findAllMenuFrom:()=>l,initContextListeners:()=>m});const r=require("@babel/runtime/helpers/toConsumableArray");var i=n.n(r);const o=require("react-dom/client");var u,a,s,d=n(15);function l(e){var t=[];do{t.push.apply(t,i()(Array.from(e.children).filter((function(e){return e.classList.contains("inContextMenuComp")})))),e=e.parentNode}while(e&&e!==document);return t}function c(e,t,n,r){n=n||500;var i,o=function t(n){n&&n.target!==e||(clearTimeout(i),Object.assign(e.style,{animation:null}),e.removeEventListener("animationend",t),r&&r(e))};e.addEventListener("animationend",o),Object.assign(e.style,{animation:t+" "+n/1e3+"s forwards"}),i=setTimeout(o,1.5*n)}function f(e){try{document.body.removeChild(u),document.removeEventListener(e.DefaultMenuEvent,s),s=u=null}catch(e){}}function m(e,t){u=document.createElement("div"),Object.assign(u.style,{pointerEvents:"none",position:"fixed",width:"100%",height:"100%",top:"0",left:"0",zIndex:e.DefaultZIndex,display:"none"}),u.className="inContextMenuLayer",document.body.appendChild(u);var n,r,i,f,m=function t(o,s){var d=function(e){for(u.style.display="none",a=null;null!==(t=i)&&void 0!==t&&t.length;){var t;i.pop()()}f.unmount(),u.innerHTML=""};s?d():e.DefaultHideAnim?c(a,e.DefaultHideAnim,e.DefaultAnimDuration,d):setTimeout(d,10),window.removeEventListener("resize",n),window.removeEventListener("scroll",r),document.body.removeEventListener("click",t)};document.addEventListener(e.DefaultMenuEvent,s=function(s){if(e.shouldUseContextMenu(s)){a&&m(0,!0);var p,v,h,y=l(s.target).reduce((function(e,n){var r,i=n.menuId&&t[n.menuId];return!i||p||(e.push(i),null!==(r=i.props)&&void 0!==r&&r.hasOwnProperty("root")&&(p=i)),e}),[]),b=window.innerWidth,x=window.innerHeight;if(y.length&&!y[0].props.hasOwnProperty("native")){s.preventDefault(),s.stopPropagation(),document.body.addEventListener("click",m),u.style.display="block",window.addEventListener("resize",n=function(){v=v/b*document.body.offsetWidth,h=h/x*document.body.offsetHeight,b=window.innerWidth,x=window.innerHeight,Object.assign(a.style,{top:h+"px",left:v+"px"})}),window.addEventListener("scroll",r=function(){m(0,!1)});var g=e.DefaultMenuComp;(a=document.createElement("div")).className="inContextMenu",u.appendChild(a),f=(0,o.createRoot)(a);var w=y.length,D=function(){--w||requestAnimationFrame((function(){v=s.x,h=s.y,v+a.offsetWidth>b&&(v-=a.offsetWidth),h+a.offsetHeight>x&&(h-=a.offsetHeight),Object.assign(a.style,{top:h+"px",left:v+"px",width:a.offsetWidth+"px",height:a.offsetHeight+"px",visibility:"visible"}),e.DefaultShowAnim&&c(a,e.DefaultShowAnim,e.DefaultAnimDuration)}))},E=function(){var e=d.useRef();return d.useEffect((function(){i=y.map((function(t){var n=document.createElement("div");return n.className="inContextSubMenu",t.doReDim=D,e.current.appendChild(n),t.triggerRender(n,y,s)}))})),d.createElement(g,{ref:e})};return f.render(d.createElement(E,null)),Object.assign(a.style,{pointerEvents:"all",position:"absolute",display:"flex",visibility:"hidden"}),!1}}})}},15:e=>{e.exports=require("react")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{ContextMenu:()=>m,default:()=>p});var i=n(15),o=n.n(i);const u=require("@babel/runtime/helpers/slicedToArray");var a=n.n(u);const s=require("react-dom");var d=new Function("try {return this===window;}catch(e){ return false;}")(),l=d&&n(944),c=0,f=[],m=function e(t){var n=o().useRef(),r=function(e,t,n){var r=o().useState(),i=a()(r,2),u=i[0],m=i[1],p=o().useRef(0);if(p.current||(!c&&d&&l.initContextListeners(n,f),c++,p.current=c,e.current&&(e.current.menuId=p.current)),o().useEffect((function(){return f[p.current]={menuId:p.current,props:t,triggerRender:function(e,t,n){return m({node:e,menuList:t,event:n}),function(){return m(void 0)}}},function(){f[p.current]=void 0,--c||l.clearContextListeners(n)}}),[]),o().useEffect((function(){e.current&&p.current&&(e.current.menuId=p.current)}),[e.current]),o().useLayoutEffect((function(){u&&f[p.current].doReDim&&(f[p.current].doReDim(),delete f[p.current].doReDim)}),[u]),u){var v=n.DefaultSubMenuComp;return{portalNode:(0,s.createPortal)(o().createElement(v,null,t.renderMenu?t.renderMenu(u.event,u.menuList,t.children):t.children),u.node)}}return{}}(n,t,e),i=r.portalNode;return o().createElement("div",{className:"inContextMenuComp",style:{display:"none"},ref:n},i)};m.DefaultZIndex=1e3,m.DefaultAnimDuration=250,m.DefaultMenuComp="div",m.DefaultSubMenuComp="div",m.DefaultShowAnim=!1,m.DefaultHideAnim=!1,m.DefaultMenuEvent="contextmenu",m.shouldUseContextMenu=function(e){return 2===e.button&&4!==e.buttons};const p=m;module.exports=r})();
//# sourceMappingURL=ContextMenu.js.map