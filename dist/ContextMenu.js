/*!
 * MIT License
 * 
 * Copyright (c) 2018 Wise Wild Web
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=3)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("react-dom")},function(e,n){e.exports=require("@babel/runtime/helpers/inheritsLoose")},function(e,n,t){e.exports=t(4)},function(e,n,t){"use strict";t.r(n),t.d(n,"ContextMenu",(function(){return f}));var r=t(2),i=t.n(r),o=t(0),u=t.n(o),a=t(1),s=t.n(a).a.unstable_renderSubtreeIntoContainer,l=new Function("try {return this===window;}catch(e){ return false;}")(),d=l&&t(5),c=0,f=function(e){function n(t){var r;return r=e.apply(this,arguments)||this,!c&&l&&d.initContextListeners(n),c++,r}i()(n,e);var t=n.prototype;return t.componentWillUnmount=function(){--c||d.clearContextListeners(n)},t.renderWithContext=function(e,n,t){var r=d.airRender(this.renderWithContext_ex.bind(this),e,n)(u.a.Fragment);return u.a.createElement(r,{key:t})},t.renderWithContext_ex=function(e,t,r){var i=n.DefaultSubMenuComp,o=u.a.createElement(i,null,this.renderMenu(r,t)),a=document.createElement("div");return a.className="inContextSubMenu",e.appendChild(a),s(this,o,a),a},t.renderMenu=function(e,n){var t=this.renderableChilds;return this.props.renderMenu?this.props.renderMenu(e,n,t):u.a.createElement(u.a.Fragment,null,t||"")},t.render=function(){return this.renderableChilds=u.a.Children.toArray(this.props.children)||[],u.a.createElement("div",{className:"inContextMenuComp",style:{display:"none"}})},n}(u.a.Component);f.DefaultZIndex=1e3,f.DefaultAnimDuration=250,f.DefaultMenuComp="div",f.DefaultSubMenuComp="div",f.DefaultShowAnim=!1,f.DefaultHideAnim=!1,n.default=f},function(e,n,t){"use strict";t.r(n),t.d(n,"findAllMenuFrom",(function(){return f})),t.d(n,"findReactComponent",(function(){return p})),t.d(n,"renderMenu",(function(){return m})),t.d(n,"airRender",(function(){return h})),t.d(n,"applyCssAnim",(function(){return v})),t.d(n,"clearContextListeners",(function(){return y})),t.d(n,"initContextListeners",(function(){return b}));var r,i,o,u=t(2),a=t.n(u),s=t(1).unstable_renderSubtreeIntoContainer,l=t(0),d=t(1),c=[];function f(e){var n=[];do{n.push.apply(n,Array.from(e.children).filter((function(e){return e.classList.contains("inContextMenuComp")}))),e=e.parentNode}while(e&&e!==document);return n}function p(e){var n;for(var t in e)if(t.startsWith("__reactInternalInstance$"))return(n=e[t])&&n.return&&n.return.stateNode;return null}function m(e,n,t,r){var i=r,o=l.createElement(i,null,t()),u=document.createElement("div");return e.appendChild(u),s(n[0],o,u),u}function h(e,n,t){return function(r){return function(i){function o(){return i.apply(this,arguments)||this}a()(o,i);var u=o.prototype;return u.componentDidMount=function(){c.push(e(this.refs.node.parentNode,n,t))},u.render=function(){return l.createElement(r,null,l.createElement("span",{ref:"node",style:{display:"none"}}))},o}(l.Component)}}function v(e,n,t,r){t=t||500;var i,o=function n(t){t&&t.target!==e||(clearTimeout(i),Object.assign(e.style,{animation:null}),e.removeEventListener("animationend",n),r&&r(e))};e.addEventListener("animationend",o),Object.assign(e.style,{animation:n+" "+t/1e3+"s forwards"}),i=setTimeout(o,1.5*t)}function y(){try{document.body.removeChild(r),document.removeEventListener("contextmenu",o),o=r=null}catch(e){}}function b(e){r=document.createElement("div"),Object.assign(r.style,{pointerEvents:"none",position:"fixed",width:"100%",height:"100%",top:"0",left:"0",zIndex:e.DefaultZIndex,display:"none"}),r.className="inContextMenuLayer",document.body.appendChild(r);var n,t,u=function o(u,a){var s=function(e){r.style.display="none",i=null,c.forEach((function(e){return d.unmountComponentAtNode(e)})),r.innerHTML=""};a?s():e.DefaultHideAnim?v(i,e.DefaultHideAnim,e.DefaultAnimDuration,s):setTimeout(s,10),window.removeEventListener("resize",n),window.removeEventListener("scroll",t),document.body.removeEventListener("click",o)};document.addEventListener("contextmenu",o=function(o){i&&u(0,!0);var a,s,d,h=f(o.target).map(p).reduce((function(e,n){return!n||a?e:(e.push(n),n.props.hasOwnProperty("root")&&(a=n),e)}),[]),y=window.innerWidth,b=window.innerHeight;if(h.length&&!h[0].props.hasOwnProperty("native"))return document.body.addEventListener("click",u),r.style.display="block",window.addEventListener("resize",n=function(){s=s/y*document.body.offsetWidth,d=d/b*document.body.offsetHeight,y=window.innerWidth,b=window.innerHeight,Object.assign(i.style,{top:d+"px",left:s+"px"})}),window.addEventListener("scroll",t=function(){u(0,!1)}),i=m(r,h,(function(){return l.createElement(l.Fragment,null,h.map((function(e,n){return e.renderWithContext(h,o,n)})))}),e.DefaultMenuComp),c.push(i),Object.assign(i.style,{pointerEvents:"all",position:"absolute",display:"flex",visibility:"hidden"}),i.className="inContextMenu",requestAnimationFrame((function(){s=o.x,d=o.y,s+i.offsetWidth>y&&(s-=i.offsetWidth),d+i.offsetHeight>b&&(d-=i.offsetHeight),Object.assign(i.style,{top:d+"px",left:s+"px",width:i.offsetWidth+"px",height:i.offsetHeight+"px",visibility:"visible"}),e.DefaultShowAnim&&v(i,e.DefaultShowAnim,e.DefaultAnimDuration)})),o.preventDefault(),o.stopPropagation(),!1})}}]);
//# sourceMappingURL=ContextMenu.js.map